<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Picochan: picochan_hldev</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Picochan<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Picochan documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__picochan__hldev.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">picochan_hldev </div></div>
</div><!--header-->
<div class="contents">

<p>A higher level API for implementing devices on a CU.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:pch_5Fhldev_5Fconfig" id="r_pch_5Fhldev_5Fconfig"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpch__hldev__config.html">pch_hldev_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a> represents a range of devices on a CU that is to be used with the hldev API.  <a href="structpch__hldev__config.html#details">More...</a><br /></td></tr>
<tr class="memitem:pch_5Fhldev" id="r_pch_5Fhldev"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpch__hldev.html">pch_hldev</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> represents a device controlled by the hldev API.  <a href="structpch__hldev.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga07e357db0e9e3255edaf289733010119" id="r_ga07e357db0e9e3255edaf289733010119"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga07e357db0e9e3255edaf289733010119">pch_hldev_getter_t</a>) (<a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a> *hdcfg, int i)</td></tr>
<tr class="memdesc:ga07e357db0e9e3255edaf289733010119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver-provided <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> lookup callback.  <br /></td></tr>
<tr class="memitem:ga6244947adaa84af8dc8af2ee2542ac52" id="r_ga6244947adaa84af8dc8af2ee2542ac52"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpch__hldev__config.html">pch_hldev_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a></td></tr>
<tr class="memdesc:ga6244947adaa84af8dc8af2ee2542ac52"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a> represents a range of devices on a CU that is to be used with the hldev API.  <br /></td></tr>
<tr class="memitem:ga77c56d95332eb5bc3faad83e3784ff6a" id="r_ga77c56d95332eb5bc3faad83e3784ff6a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpch__hldev.html">pch_hldev</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a></td></tr>
<tr class="memdesc:ga77c56d95332eb5bc3faad83e3784ff6a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> represents a device controlled by the hldev API.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga60866d7c31eb5994c4b113ff633fb51c" id="r_ga60866d7c31eb5994c4b113ff633fb51c"><td class="memItemLeft" align="right" valign="top"><a id="ga60866d7c31eb5994c4b113ff633fb51c" name="ga60866d7c31eb5994c4b113ff633fb51c"></a>
static <a class="el" href="group__picochan__cu.html#gad255fd60b677de465d03fa6505775044">pch_cu_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pch_hldev_config_get_cu</b> (<a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a> *hdcfg)</td></tr>
<tr class="memdesc:ga60866d7c31eb5994c4b113ff633fb51c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience inline function to return the CU of the hdcfg. <br /></td></tr>
<tr class="memitem:gae7036fd04a378f5f24c40f04d76cfaf8" id="r_gae7036fd04a378f5f24c40f04d76cfaf8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae7036fd04a378f5f24c40f04d76cfaf8">pch_hldev_get_index</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:gae7036fd04a378f5f24c40f04d76cfaf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the index number of this device within the dev_range of its owning <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>.  <br /></td></tr>
<tr class="memitem:ga142609b65de85dd18ab4240821957df3" id="r_ga142609b65de85dd18ab4240821957df3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga142609b65de85dd18ab4240821957df3">pch_hldev_get_index_required</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga142609b65de85dd18ab4240821957df3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the index number of this device within the dev_range of its owning <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>.  <br /></td></tr>
<tr class="memitem:ga56cee7ebac24de69eda7a1297c310c46" id="r_ga56cee7ebac24de69eda7a1297c310c46"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga56cee7ebac24de69eda7a1297c310c46">pch_hldev_get</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga56cee7ebac24de69eda7a1297c310c46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> corresponding to device devib.  <br /></td></tr>
<tr class="memitem:gaf02805e3194997c2fa5a73b02b869a3d" id="r_gaf02805e3194997c2fa5a73b02b869a3d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf02805e3194997c2fa5a73b02b869a3d">pch_hldev_get_required</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:gaf02805e3194997c2fa5a73b02b869a3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> corresponding to device devib.  <br /></td></tr>
<tr class="memitem:ga9cdd2c0c5ddb193e1c9e87cd23416bd9" id="r_ga9cdd2c0c5ddb193e1c9e87cd23416bd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9cdd2c0c5ddb193e1c9e87cd23416bd9">pch_hldev_receive_then</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *dstaddr, uint16_t size, <a class="el" href="group__picochan__cu.html#ga70efb52d8b560c38dff57960ae653d9b">pch_devib_callback_t</a> callback)</td></tr>
<tr class="memdesc:ga9cdd2c0c5ddb193e1c9e87cd23416bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data offered by the current (Write-type) CCW and write it to dstaddr.  <br /></td></tr>
<tr class="memitem:ga947a350a8c7c8499173edce5c7e6f870" id="r_ga947a350a8c7c8499173edce5c7e6f870"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga947a350a8c7c8499173edce5c7e6f870">pch_hldev_receive</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *dstaddr, uint16_t size)</td></tr>
<tr class="memdesc:ga947a350a8c7c8499173edce5c7e6f870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data offered by the current (Write-type) CCW and write it to dstaddr.  <br /></td></tr>
<tr class="memitem:gad1b30f6faf319a9abd04cef943a91102" id="r_gad1b30f6faf319a9abd04cef943a91102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad1b30f6faf319a9abd04cef943a91102">pch_hldev_send_then</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *srcaddr, uint16_t size, <a class="el" href="group__picochan__cu.html#ga70efb52d8b560c38dff57960ae653d9b">pch_devib_callback_t</a> callback)</td></tr>
<tr class="memdesc:gad1b30f6faf319a9abd04cef943a91102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from srcaddr and sends it the current (Read-type) CCW.  <br /></td></tr>
<tr class="memitem:gadd6b28d0d55b7ed51eca001665b2e4c5" id="r_gadd6b28d0d55b7ed51eca001665b2e4c5"><td class="memItemLeft" align="right" valign="top"><a id="gadd6b28d0d55b7ed51eca001665b2e4c5" name="gadd6b28d0d55b7ed51eca001665b2e4c5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pch_hldev_send_final</b> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *srcaddr, uint16_t size)</td></tr>
<tr class="memdesc:gadd6b28d0d55b7ed51eca001665b2e4c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="#ga9a7bcc76b08f14043d70bb77ad3e7370" title="Reads data from srcaddr and sends it the current (Read-type) CCW.">pch_hldev_send()</a> then <a class="el" href="#ga6a9069d027d0e9a5d5d462a41d574cff" title="Ends the current channel program with normal status.">pch_hldev_end_ok()</a>. <br /></td></tr>
<tr class="memitem:ga9a7bcc76b08f14043d70bb77ad3e7370" id="r_ga9a7bcc76b08f14043d70bb77ad3e7370"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9a7bcc76b08f14043d70bb77ad3e7370">pch_hldev_send</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *srcaddr, uint16_t size)</td></tr>
<tr class="memdesc:ga9a7bcc76b08f14043d70bb77ad3e7370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from srcaddr and sends it the current (Read-type) CCW.  <br /></td></tr>
<tr class="memitem:ga76e3ba5a0e1eeebab7f84dfea887bf40" id="r_ga76e3ba5a0e1eeebab7f84dfea887bf40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40">pch_hldev_end</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, uint8_t extra_devs, <a class="el" href="group__picochan__base.html#ga7c762e6d91ddd3a8c187ba2bbca3baf2">pch_dev_sense_t</a> sense)</td></tr>
<tr class="memdesc:ga76e3ba5a0e1eeebab7f84dfea887bf40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program.  <br /></td></tr>
<tr class="memitem:ga6a9069d027d0e9a5d5d462a41d574cff" id="r_ga6a9069d027d0e9a5d5d462a41d574cff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6a9069d027d0e9a5d5d462a41d574cff">pch_hldev_end_ok</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga6a9069d027d0e9a5d5d462a41d574cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with normal status.  <br /></td></tr>
<tr class="memitem:ga2ab8206cb8ff03045416f7d9d7192e8d" id="r_ga2ab8206cb8ff03045416f7d9d7192e8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2ab8206cb8ff03045416f7d9d7192e8d">pch_hldev_terminate_string</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga2ab8206cb8ff03045416f7d9d7192e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Appends a \0 to the buffer of the hldev of devib.  <br /></td></tr>
<tr class="memitem:ga37478ac41065f6c17d9e5bc63d66db27" id="r_ga37478ac41065f6c17d9e5bc63d66db27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga37478ac41065f6c17d9e5bc63d66db27">pch_hldev_terminate_string_end_ok</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga37478ac41065f6c17d9e5bc63d66db27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does <a class="el" href="#ga2ab8206cb8ff03045416f7d9d7192e8d" title="Appends a \0 to the buffer of the hldev of devib.">pch_hldev_terminate_string()</a> then <a class="el" href="#ga6a9069d027d0e9a5d5d462a41d574cff" title="Ends the current channel program with normal status.">pch_hldev_end_ok()</a>.  <br /></td></tr>
<tr class="memitem:gaad63c4fa7a02e6a9ca8f932569ee47c8" id="r_gaad63c4fa7a02e6a9ca8f932569ee47c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaad63c4fa7a02e6a9ca8f932569ee47c8">pch_hldev_receive_buffer_final</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *dstaddr, uint16_t size)</td></tr>
<tr class="memdesc:gaad63c4fa7a02e6a9ca8f932569ee47c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does <a class="el" href="#ga947a350a8c7c8499173edce5c7e6f870" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive()</a> then <a class="el" href="#ga6a9069d027d0e9a5d5d462a41d574cff" title="Ends the current channel program with normal status.">pch_hldev_end_ok()</a>.  <br /></td></tr>
<tr class="memitem:gad05983801bd7c4d3b9946a9eb2060913" id="r_gad05983801bd7c4d3b9946a9eb2060913"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad05983801bd7c4d3b9946a9eb2060913">pch_hldev_receive_string_final</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, void *dstaddr, uint16_t len)</td></tr>
<tr class="memdesc:gad05983801bd7c4d3b9946a9eb2060913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does <a class="el" href="#ga947a350a8c7c8499173edce5c7e6f870" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive()</a> then <a class="el" href="#ga37478ac41065f6c17d9e5bc63d66db27" title="Does pch_hldev_terminate_string() then pch_hldev_end_ok().">pch_hldev_terminate_string_end_ok()</a>.  <br /></td></tr>
<tr class="memitem:ga28604f0f4b57678b70bbda95fabb0db4" id="r_ga28604f0f4b57678b70bbda95fabb0db4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga28604f0f4b57678b70bbda95fabb0db4">pch_hldev_end_ok_sense</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, <a class="el" href="group__picochan__base.html#ga7c762e6d91ddd3a8c187ba2bbca3baf2">pch_dev_sense_t</a> sense)</td></tr>
<tr class="memdesc:ga28604f0f4b57678b70bbda95fabb0db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with normal status and sets the sense code.  <br /></td></tr>
<tr class="memitem:gae2dad5671fb8de0635340be3eb9e7cec" id="r_gae2dad5671fb8de0635340be3eb9e7cec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae2dad5671fb8de0635340be3eb9e7cec">pch_hldev_end_reject</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, uint8_t code)</td></tr>
<tr class="memdesc:gae2dad5671fb8de0635340be3eb9e7cec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with a Command Reject error.  <br /></td></tr>
<tr class="memitem:ga4c3ca8d3999762441c8ba9f0f53802ba" id="r_ga4c3ca8d3999762441c8ba9f0f53802ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4c3ca8d3999762441c8ba9f0f53802ba">pch_hldev_end_exception_sense</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, <a class="el" href="group__picochan__base.html#ga7c762e6d91ddd3a8c187ba2bbca3baf2">pch_dev_sense_t</a> sense)</td></tr>
<tr class="memdesc:ga4c3ca8d3999762441c8ba9f0f53802ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with UnitException and sets an explicit sense.  <br /></td></tr>
<tr class="memitem:ga22c788bd2ad4bfc2ab59a795d3690cf2" id="r_ga22c788bd2ad4bfc2ab59a795d3690cf2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga22c788bd2ad4bfc2ab59a795d3690cf2">pch_hldev_end_exception</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga22c788bd2ad4bfc2ab59a795d3690cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with UnitException and no sense information.  <br /></td></tr>
<tr class="memitem:ga6257422c1b6c661cca03b1724de5bff8" id="r_ga6257422c1b6c661cca03b1724de5bff8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6257422c1b6c661cca03b1724de5bff8">pch_hldev_end_intervention</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, uint8_t code)</td></tr>
<tr class="memdesc:ga6257422c1b6c661cca03b1724de5bff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with an InterventionRequired error.  <br /></td></tr>
<tr class="memitem:gac3f90406b24bf57c826f91e53bd89493" id="r_gac3f90406b24bf57c826f91e53bd89493"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac3f90406b24bf57c826f91e53bd89493">pch_hldev_end_equipment_check</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib, uint8_t code)</td></tr>
<tr class="memdesc:gac3f90406b24bf57c826f91e53bd89493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program with an EquipmentCheck error.  <br /></td></tr>
<tr class="memitem:ga463a2b0e992fc951c8d7ebbf55c10a4b" id="r_ga463a2b0e992fc951c8d7ebbf55c10a4b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga463a2b0e992fc951c8d7ebbf55c10a4b">pch_hldev_end_stopped</a> (<a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib)</td></tr>
<tr class="memdesc:ga463a2b0e992fc951c8d7ebbf55c10a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current channel program, acknowledging a Halt signal from the CSS.  <br /></td></tr>
<tr class="memitem:gaf68b6e03c5f7a1fd95458e631907716e" id="r_gaf68b6e03c5f7a1fd95458e631907716e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf68b6e03c5f7a1fd95458e631907716e">pch_hldev_config_init</a> (<a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a> *hdcfg, <a class="el" href="group__picochan__cu.html#gad255fd60b677de465d03fa6505775044">pch_cu_t</a> *cu, <a class="el" href="group__picochan__base.html#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a> first_ua, uint16_t num_devices)</td></tr>
<tr class="memdesc:gaf68b6e03c5f7a1fd95458e631907716e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises hldev API use for a range of devices on a CU.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>A higher level API for implementing devices on a CU. </p>
<p>For example,</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>my_dev {</div>
<div class="line">     <a class="code hl_typedef" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a>             hldev; <span class="comment">// must be first</span></div>
<div class="line">     foo_t                   foo; <span class="comment">// my device-specific fields</span></div>
<div class="line">} my_dev_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>my_cu_config {</div>
<div class="line">     <a class="code hl_typedef" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a>      hldev_config; <span class="comment">// must be first</span></div>
<div class="line">     bar_t                   bar; <span class="comment">// my_cu-specific fields</span></div>
<div class="line">     my_dev_t                mydevs[NUM_MYDEVS];</div>
<div class="line">} my_cu_config_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_typedef" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> *my_get_hldev(<a class="code hl_typedef" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a> *hdcfg, <span class="keywordtype">int</span> i) {</div>
<div class="line">     my_cu_config_t *cfg = (my_cu_config_t *)hdcfg;</div>
<div class="line">     <span class="keywordflow">return</span> &amp;cfg-&gt;mydevs[i].hldev;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> my_start(<a class="code hl_typedef" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *devib) {</div>
<div class="line">     <span class="comment">// if you only need the pch_hldev_t...</span></div>
<div class="line">     <a class="code hl_typedef" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> hd = <a class="code hl_function" href="#ga56cee7ebac24de69eda7a1297c310c46">pch_hldev_get</a>(devib);</div>
<div class="line">     <span class="comment">// ...or if you need your extra device fields...</span></div>
<div class="line">     my_dev_t md = (my_dev_t *)<a class="code hl_function" href="#ga56cee7ebac24de69eda7a1297c310c46">pch_hldev_get</a>(devib);</div>
<div class="line">     <span class="comment">// do something to process CCW command hd-&gt;ccwcmd</span></div>
<div class="line">     <span class="comment">// using pch_hldev_send...(devib, ...) to send data to</span></div>
<div class="line">     <span class="comment">// a Read-type CCW or pch_hldev_receive...(devib, ...) to</span></div>
<div class="line">     <span class="comment">// to receive data from a Write-type CCW. End the channel</span></div>
<div class="line">     <span class="comment">// program with pch_hldev_end_...(devib, ...).</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">my_cu_config_t the_my_cu_config = {</div>
<div class="line">     .hldev_config = {</div>
<div class="line">             .get_hldev = my_get_hldev,</div>
<div class="line">             .start = my_start_callback</div>
<div class="line">     }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__picochan__base.html#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a> my_cu_init(<a class="code hl_typedef" href="group__picochan__cu.html#gad255fd60b677de465d03fa6505775044">pch_cu_t</a> *cu, <a class="code hl_typedef" href="group__picochan__base.html#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a> first_ua, uint16_t num_devices) {</div>
<div class="line">     <a class="code hl_function" href="#gaf68b6e03c5f7a1fd95458e631907716e">pch_hldev_config_init</a>(&amp;the_my_cu_config.hldev_config, cu, first_ua, num_devices);</div>
<div class="line">     <span class="keywordflow">return</span> first_ua + num_devices;</div>
<div class="line"> }</div>
<div class="ttc" id="agroup__picochan__base_html_gab7ab0df86c352a560a2376290862a2ee"><div class="ttname"><a href="group__picochan__base.html#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a></div><div class="ttdeci">uint8_t pch_unit_addr_t</div><div class="ttdoc">a unit address that identifies a device on a given CU on the control unit side.</div><div class="ttdef"><b>Definition</b> ids.h:34</div></div>
<div class="ttc" id="agroup__picochan__cu_html_gad255fd60b677de465d03fa6505775044"><div class="ttname"><a href="group__picochan__cu.html#gad255fd60b677de465d03fa6505775044">pch_cu_t</a></div><div class="ttdeci">struct pch_cu pch_cu_t</div><div class="ttdoc">pch_cu_t is a Control Unit (CU)</div></div>
<div class="ttc" id="agroup__picochan__cu_html_gae778375f43278246f52713c263113a2a"><div class="ttname"><a href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a></div><div class="ttdeci">struct pch_devib pch_devib_t</div><div class="ttdoc">pch_devib_t represents a device on a CU</div></div>
<div class="ttc" id="agroup__picochan__hldev_html_ga56cee7ebac24de69eda7a1297c310c46"><div class="ttname"><a href="#ga56cee7ebac24de69eda7a1297c310c46">pch_hldev_get</a></div><div class="ttdeci">static pch_hldev_t * pch_hldev_get(pch_devib_t *devib)</div><div class="ttdoc">Look up the pch_hldev_t corresponding to device devib.</div><div class="ttdef"><b>Definition</b> hldev.h:202</div></div>
<div class="ttc" id="agroup__picochan__hldev_html_ga6244947adaa84af8dc8af2ee2542ac52"><div class="ttname"><a href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a></div><div class="ttdeci">struct pch_hldev_config pch_hldev_config_t</div><div class="ttdoc">pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.</div><div class="ttdef"><b>Definition</b> hldev.h:75</div></div>
<div class="ttc" id="agroup__picochan__hldev_html_ga77c56d95332eb5bc3faad83e3784ff6a"><div class="ttname"><a href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a></div><div class="ttdeci">struct pch_hldev pch_hldev_t</div><div class="ttdoc">pch_hldev_t represents a device controlled by the hldev API.</div><div class="ttdef"><b>Definition</b> hldev.h:76</div></div>
<div class="ttc" id="agroup__picochan__hldev_html_gaf68b6e03c5f7a1fd95458e631907716e"><div class="ttname"><a href="#gaf68b6e03c5f7a1fd95458e631907716e">pch_hldev_config_init</a></div><div class="ttdeci">void pch_hldev_config_init(pch_hldev_config_t *hdcfg, pch_cu_t *cu, pch_unit_addr_t first_ua, uint16_t num_devices)</div><div class="ttdoc">Initialises hldev API use for a range of devices on a CU.</div><div class="ttdef"><b>Definition</b> hldev.c:296</div></div>
</div><!-- fragment --> <a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="ga6244947adaa84af8dc8af2ee2542ac52" name="ga6244947adaa84af8dc8af2ee2542ac52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6244947adaa84af8dc8af2ee2542ac52">&#9670;&#160;</a></span>pch_hldev_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpch__hldev__config.html">pch_hldev_config</a> <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a> represents a range of devices on a CU that is to be used with the hldev API. </p>
<p>Fill in get_hldev and start (and, optionally, signal) and call <a class="el" href="#gaf68b6e03c5f7a1fd95458e631907716e" title="Initialises hldev API use for a range of devices on a CU.">pch_hldev_config_init()</a> to register a range of devices for a CU. </p>

</div>
</div>
<a id="ga07e357db0e9e3255edaf289733010119" name="ga07e357db0e9e3255edaf289733010119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07e357db0e9e3255edaf289733010119">&#9670;&#160;</a></span>pch_hldev_getter_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> *(* pch_hldev_getter_t) (<a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a> *hdcfg, int i)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver-provided <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> lookup callback. </p>
<p>This is the type used by the get_hldev field of <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. It is a driver-provided function called by the hldev subsystem which must return a pointer to the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> corresponding to the device with index i (not the devib with unit address i) within the hdcfg device range. </p>

</div>
</div>
<a id="ga77c56d95332eb5bc3faad83e3784ff6a" name="ga77c56d95332eb5bc3faad83e3784ff6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77c56d95332eb5bc3faad83e3784ff6a">&#9670;&#160;</a></span>pch_hldev_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpch__hldev.html">pch_hldev</a> <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> represents a device controlled by the hldev API. </p>
<p>The get_hldev callback function in the <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>, hdcfg, must locate the appropriate <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> given its index number within the dev_range of hdcfg. Typically, this is simply by indexing into a pre-defined array of structs, each of which starts with (or, in the most simple case, is) a <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a>. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="gaf68b6e03c5f7a1fd95458e631907716e" name="gaf68b6e03c5f7a1fd95458e631907716e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf68b6e03c5f7a1fd95458e631907716e">&#9670;&#160;</a></span>pch_hldev_config_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_config_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52">pch_hldev_config_t</a> *</td>          <td class="paramname"><span class="paramname"><em>hdcfg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gad255fd60b677de465d03fa6505775044">pch_cu_t</a> *</td>          <td class="paramname"><span class="paramname"><em>cu</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__base.html#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a></td>          <td class="paramname"><span class="paramname"><em>first_ua</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>num_devices</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises hldev API use for a range of devices on a CU. </p>
<p>After filling in get_hldev and start (and, optionally, signal) in hdcfg, call <a class="el" href="#gaf68b6e03c5f7a1fd95458e631907716e" title="Initialises hldev API use for a range of devices on a CU.">pch_hldev_config_init()</a> to register for the hldev API the range of num_devices on CU cu starting with unit address first_ua. After calling this function, channel programs started from the CSS which address a devib belonging to hdcfg cause:</p><ul>
<li>hldev to look up the device's <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> by calling your hdcfg-&gt;start function.</li>
<li>(re)sets the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> so that<ul>
<li>its callback is your hdcfg-&gt;start function</li>
<li>its ccwcmd is the CCW command</li>
</ul>
</li>
<li>calls your start callback to begin processing.</li>
</ul>
<p>Your processing can use the <a class="el" href="#ga947a350a8c7c8499173edce5c7e6f870" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive()</a> family functions zero or more times (for a Write-type CCW) to receive data or the <a class="el" href="#ga9a7bcc76b08f14043d70bb77ad3e7370" title="Reads data from srcaddr and sends it the current (Read-type) CCW.">pch_hldev_send()</a> family functions zero or more times (for a Read-Type CCW) to send data. When your processing has finished (whether or not you have received/sent all data available), you call one of the <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a> family functions to end the channel program. This then resets the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> ready to start a new channel program for the device.</p>
<p>The underlying CSS and CU support having a device at channel-program-end time advertising a buffer that the CSS can use to write data to immediately during a start of a Write-type CCW but hldev does not yet provide an API for that. </p>

</div>
</div>
<a id="ga76e3ba5a0e1eeebab7f84dfea887bf40" name="ga76e3ba5a0e1eeebab7f84dfea887bf40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76e3ba5a0e1eeebab7f84dfea887bf40">&#9670;&#160;</a></span>pch_hldev_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>extra_devs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__base.html#ga7c762e6d91ddd3a8c187ba2bbca3baf2">pch_dev_sense_t</a></td>          <td class="paramname"><span class="paramname"><em>sense</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends the current channel program. </p>
<p>Sends an UpdateStatus channel operation to the CSS to end the current channel program. The device status sent always includes ChannelEnd|DeviceEnd (which is what ends the channel program) and will also set any additional flags given in extra_devs. sense is written to the sense field of the devib so that is available to satisfy a PCH_CCW_CMD_SENSE CCW with no neeed to bother the device driver. </p>

</div>
</div>
<a id="gac3f90406b24bf57c826f91e53bd89493" name="gac3f90406b24bf57c826f91e53bd89493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3f90406b24bf57c826f91e53bd89493">&#9670;&#160;</a></span>pch_hldev_end_equipment_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_equipment_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>code</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program with an EquipmentCheck error. </p>
<p>Does <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, setting UnitCheck in the device status and EquipmentCheck in the sense. </p>

</div>
</div>
<a id="ga22c788bd2ad4bfc2ab59a795d3690cf2" name="ga22c788bd2ad4bfc2ab59a795d3690cf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22c788bd2ad4bfc2ab59a795d3690cf2">&#9670;&#160;</a></span>pch_hldev_end_exception()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_exception </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program with UnitException and no sense information. </p>
<p>Does <a class="el" href="#ga4c3ca8d3999762441c8ba9f0f53802ba" title="Ends the current channel program with UnitException and sets an explicit sense.">pch_hldev_end_exception_sense()</a>, passing PCH_DEV_SENSE_NONE as the sense information. </p>

</div>
</div>
<a id="ga4c3ca8d3999762441c8ba9f0f53802ba" name="ga4c3ca8d3999762441c8ba9f0f53802ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c3ca8d3999762441c8ba9f0f53802ba">&#9670;&#160;</a></span>pch_hldev_end_exception_sense()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_exception_sense </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__base.html#ga7c762e6d91ddd3a8c187ba2bbca3baf2">pch_dev_sense_t</a></td>          <td class="paramname"><span class="paramname"><em>sense</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program with UnitException and sets an explicit sense. </p>
<p>Does <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, passing device status with the UnitException flag sent and setting the given sense. A UnitException is not an error but causes the channel program to end without command chaining. The intent for UnitException for mainframe channel programs is that a given device only has a single meaning for UnitException. </p>

</div>
</div>
<a id="ga6257422c1b6c661cca03b1724de5bff8" name="ga6257422c1b6c661cca03b1724de5bff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6257422c1b6c661cca03b1724de5bff8">&#9670;&#160;</a></span>pch_hldev_end_intervention()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_intervention </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>code</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program with an InterventionRequired error. </p>
<p>Does <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, setting UnitCheck in the device status and InterventionRequired in the sense. </p>

</div>
</div>
<a id="ga6a9069d027d0e9a5d5d462a41d574cff" name="ga6a9069d027d0e9a5d5d462a41d574cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a9069d027d0e9a5d5d462a41d574cff">&#9670;&#160;</a></span>pch_hldev_end_ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_ok </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends the current channel program with normal status. </p>
<p>Does the same as <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, passing 0 as extra_devs and PCH_DEV_SENSE_NONE (zeroes) as the sense. </p>

</div>
</div>
<a id="ga28604f0f4b57678b70bbda95fabb0db4" name="ga28604f0f4b57678b70bbda95fabb0db4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28604f0f4b57678b70bbda95fabb0db4">&#9670;&#160;</a></span>pch_hldev_end_ok_sense()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_ok_sense </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__base.html#ga7c762e6d91ddd3a8c187ba2bbca3baf2">pch_dev_sense_t</a></td>          <td class="paramname"><span class="paramname"><em>sense</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program with normal status and sets the sense code. </p>
<p>Does <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, passing 0 as the extra_devs. </p>

</div>
</div>
<a id="gae2dad5671fb8de0635340be3eb9e7cec" name="gae2dad5671fb8de0635340be3eb9e7cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2dad5671fb8de0635340be3eb9e7cec">&#9670;&#160;</a></span>pch_hldev_end_reject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_reject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>code</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program with a Command Reject error. </p>
<p>Does <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, passing device status as an error where UnitCheck set and an associated sense of CommandReject with sense code code. This error signifies that the CCW command was invalid or that, for a Write-type CCW, data that it sent was invalid. </p>

</div>
</div>
<a id="ga463a2b0e992fc951c8d7ebbf55c10a4b" name="ga463a2b0e992fc951c8d7ebbf55c10a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga463a2b0e992fc951c8d7ebbf55c10a4b">&#9670;&#160;</a></span>pch_hldev_end_stopped()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_end_stopped </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends the current channel program, acknowledging a Halt signal from the CSS. </p>
<p>Does <a class="el" href="#ga76e3ba5a0e1eeebab7f84dfea887bf40" title="Ends the current channel program.">pch_hldev_end()</a>, passing a normal device status and setting a sense with the Cancel flag set. </p>

</div>
</div>
<a id="ga56cee7ebac24de69eda7a1297c310c46" name="ga56cee7ebac24de69eda7a1297c310c46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56cee7ebac24de69eda7a1297c310c46">&#9670;&#160;</a></span>pch_hldev_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> * pch_hldev_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look up the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> corresponding to device devib. </p>
<p>devib must be owned by a <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. Returns NULL if the devib is not in the range (shouldn't happen). </p>

</div>
</div>
<a id="gae7036fd04a378f5f24c40f04d76cfaf8" name="gae7036fd04a378f5f24c40f04d76cfaf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7036fd04a378f5f24c40f04d76cfaf8">&#9670;&#160;</a></span>pch_hldev_get_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pch_hldev_get_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look up the index number of this device within the dev_range of its owning <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. </p>
<p>devib must be owned by a <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. Returns a -1 if the devib is not in the range (shouldn't happen). </p>

</div>
</div>
<a id="ga142609b65de85dd18ab4240821957df3" name="ga142609b65de85dd18ab4240821957df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga142609b65de85dd18ab4240821957df3">&#9670;&#160;</a></span>pch_hldev_get_index_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pch_hldev_get_index_required </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look up the index number of this device within the dev_range of its owning <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. </p>
<p>devib must be owned by a <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. panics if the devib is not in the range (shouldn't happen). </p>

</div>
</div>
<a id="gaf02805e3194997c2fa5a73b02b869a3d" name="gaf02805e3194997c2fa5a73b02b869a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf02805e3194997c2fa5a73b02b869a3d">&#9670;&#160;</a></span>pch_hldev_get_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a">pch_hldev_t</a> * pch_hldev_get_required </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look up the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> corresponding to device devib. </p>
<p>devib must be owned by a <a class="el" href="#ga6244947adaa84af8dc8af2ee2542ac52" title="pch_hldev_config_t represents a range of devices on a CU that is to be used with the hldev API.">pch_hldev_config_t</a>. Panics if the devib is not in the range (shouldn't happen). </p>

</div>
</div>
<a id="ga947a350a8c7c8499173edce5c7e6f870" name="ga947a350a8c7c8499173edce5c7e6f870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga947a350a8c7c8499173edce5c7e6f870">&#9670;&#160;</a></span>pch_hldev_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dstaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data offered by the current (Write-type) CCW and write it to dstaddr. </p>
<p>Does the same as <a class="el" href="#ga9cdd2c0c5ddb193e1c9e87cd23416bd9" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive_then()</a>, passing NULL as the callback argument so that the current callback is not changed. </p>

</div>
</div>
<a id="gaad63c4fa7a02e6a9ca8f932569ee47c8" name="gaad63c4fa7a02e6a9ca8f932569ee47c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad63c4fa7a02e6a9ca8f932569ee47c8">&#9670;&#160;</a></span>pch_hldev_receive_buffer_final()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_receive_buffer_final </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dstaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does <a class="el" href="#ga947a350a8c7c8499173edce5c7e6f870" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive()</a> then <a class="el" href="#ga6a9069d027d0e9a5d5d462a41d574cff" title="Ends the current channel program with normal status.">pch_hldev_end_ok()</a>. </p>
<p>Receives data into the hldev's buffer then ends the channel program with normal status with no further callbacks needed. </p>

</div>
</div>
<a id="gad05983801bd7c4d3b9946a9eb2060913" name="gad05983801bd7c4d3b9946a9eb2060913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad05983801bd7c4d3b9946a9eb2060913">&#9670;&#160;</a></span>pch_hldev_receive_string_final()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_receive_string_final </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dstaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does <a class="el" href="#ga947a350a8c7c8499173edce5c7e6f870" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive()</a> then <a class="el" href="#ga37478ac41065f6c17d9e5bc63d66db27" title="Does pch_hldev_terminate_string() then pch_hldev_end_ok().">pch_hldev_terminate_string_end_ok()</a>. </p>
<p>Receives data into the hldev's buffer, appends a trailing \0 then ends the channel program with normal status with no further callbacks needed. </p>

</div>
</div>
<a id="ga9cdd2c0c5ddb193e1c9e87cd23416bd9" name="ga9cdd2c0c5ddb193e1c9e87cd23416bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9cdd2c0c5ddb193e1c9e87cd23416bd9">&#9670;&#160;</a></span>pch_hldev_receive_then()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_receive_then </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dstaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#ga70efb52d8b560c38dff57960ae653d9b">pch_devib_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data offered by the current (Write-type) CCW and write it to dstaddr. </p>
<p>hldev requests as much data as possible up to size bytes, issuing multiple ReadRequest channel operations if needed as the CSS chains through any additional data-chained buffer segments. The receive stops when either size bytes are received or the CSS has no more bytes to provide, either because all chained segments offered are exhausted or because a Halt Subchannel has stopped the channel program. Afterwards, the hldev's current callback is replaced with callback (if non-NULL) and the (potentially updated) callback is called. The actual number of bytes received and written to dstaddr is available in the count field of the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a>. If no more data is available to be received, with count either less than or equal to count, then the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> flags field has PCH_HLDEV_FLAG_EOF set. </p>

</div>
</div>
<a id="ga9a7bcc76b08f14043d70bb77ad3e7370" name="ga9a7bcc76b08f14043d70bb77ad3e7370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a7bcc76b08f14043d70bb77ad3e7370">&#9670;&#160;</a></span>pch_hldev_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>srcaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from srcaddr and sends it the current (Read-type) CCW. </p>
<p>Does the same as <a class="el" href="#gad1b30f6faf319a9abd04cef943a91102" title="Reads data from srcaddr and sends it the current (Read-type) CCW.">pch_hldev_send_then()</a>, passing NULL as the callback argument so that the current callback is not changed. </p>

</div>
</div>
<a id="gad1b30f6faf319a9abd04cef943a91102" name="gad1b30f6faf319a9abd04cef943a91102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1b30f6faf319a9abd04cef943a91102">&#9670;&#160;</a></span>pch_hldev_send_then()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_send_then </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>srcaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#ga70efb52d8b560c38dff57960ae653d9b">pch_devib_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from srcaddr and sends it the current (Read-type) CCW. </p>
<p>hldev sends as much data as possible up to size bytes, issuing multiple Data channel operations if needed as the CSS chains through any additional data-chained buffer segments. The send stops when either size bytes have been sent or the CSS has no more space to offer because all chained segments have been exhausted. Afterwards, the hldev's current callback is replaced with callback (if non-NULL) and the (potentially updated) callback is called. The actual number of bytes sent from srcaddr is available in the count field of the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a>. </p>

</div>
</div>
<a id="ga2ab8206cb8ff03045416f7d9d7192e8d" name="ga2ab8206cb8ff03045416f7d9d7192e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ab8206cb8ff03045416f7d9d7192e8d">&#9670;&#160;</a></span>pch_hldev_terminate_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_terminate_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Appends a \0 to the buffer of the hldev of devib. </p>
<p>Looks up the <a class="el" href="#ga77c56d95332eb5bc3faad83e3784ff6a" title="pch_hldev_t represents a device controlled by the hldev API.">pch_hldev_t</a> of devib, writes a \0 to its addr pointer field and increments its count field. Intended to be used as a convenience function during a callback in a Read-Type channel program where <a class="el" href="#ga9cdd2c0c5ddb193e1c9e87cd23416bd9" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive_then()</a> has been called to receive counted data bytes but NUL-termination is wanted. </p>

</div>
</div>
<a id="ga37478ac41065f6c17d9e5bc63d66db27" name="ga37478ac41065f6c17d9e5bc63d66db27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37478ac41065f6c17d9e5bc63d66db27">&#9670;&#160;</a></span>pch_hldev_terminate_string_end_ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pch_hldev_terminate_string_end_ok </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__picochan__cu.html#gae778375f43278246f52713c263113a2a">pch_devib_t</a> *</td>          <td class="paramname"><span class="paramname"><em>devib</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does <a class="el" href="#ga2ab8206cb8ff03045416f7d9d7192e8d" title="Appends a \0 to the buffer of the hldev of devib.">pch_hldev_terminate_string()</a> then <a class="el" href="#ga6a9069d027d0e9a5d5d462a41d574cff" title="Ends the current channel program with normal status.">pch_hldev_end_ok()</a>. </p>
<p>Intended to be used as the callback argument of a <a class="el" href="#ga9cdd2c0c5ddb193e1c9e87cd23416bd9" title="Receive data offered by the current (Write-type) CCW and write it to dstaddr.">pch_hldev_receive_then()</a> so that, after receiving as many bytes as possible, hldev terminates the resulting buffer with a \0 (for which the caller is responsible for ensuring room is available) and then ending the channel program with no further callbacks needed. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
