<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Picochan: picochan_base</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Picochan<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Picochan documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__picochan__base.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">picochan_base </div></div>
</div><!--header-->
<div class="contents">

<p>The basic types used by picochan throughout both CSS and CU.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:bsize_2Eh" id="r_bsize_2Eh"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bsize_8h.html">bsize.h</a></td></tr>
<tr class="memdesc:bsize_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">An encoding of 16-bit counts as 8-bit values for typical Pico-sized buffers. <br /></td></tr>
<tr class="memitem:ccw_2Eh" id="r_ccw_2Eh"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ccw_8h.html">ccw.h</a></td></tr>
<tr class="memdesc:ccw_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel-Command Word (CCW) <br /></td></tr>
<tr class="memitem:schib_2Eh" id="r_schib_2Eh"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="schib_8h.html">schib.h</a></td></tr>
<tr class="memdesc:schib_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Subchannel Information Block (SCHIB) <br /></td></tr>
<tr class="memitem:dev_5Fsense_2Eh" id="r_dev_5Fsense_2Eh"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dev__sense_8h.html">dev_sense.h</a></td></tr>
<tr class="memdesc:dev__sense_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device sense. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:pch_5Fbsizex" id="r_pch_5Fbsizex"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpch__bsizex.html">pch_bsizex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">a <a class="el" href="structpch__bsize.html" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize</a> together with a flag intended to indicate whether the bsize encoded the original size exactly.  <a href="structpch__bsizex.html#details">More...</a><br /></td></tr>
<tr class="memitem:pch_5Fccw" id="r_pch_5Fccw"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpch__ccw.html">pch_ccw</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O Channel-Command Word (CCW)  <a href="structpch__ccw.html#details">More...</a><br /></td></tr>
<tr class="memitem:pch_5Fschib" id="r_pch_5Fschib"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpch__schib.html">pch_schib</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#ga3b35c1d1ecbdbb04f997457dc8b28506" title="pch_schib_t is the Subchannel Information Block (SCHIB)">pch_schib_t</a> is the Subchannel Information Block (SCHIB)  <a href="structpch__schib.html#details">More...</a><br /></td></tr>
<tr class="memitem:pch_5Fdev_5Fsense" id="r_pch_5Fdev_5Fsense"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpch__dev__sense.html">pch_dev_sense</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device sense structure by which a device can communicate additional error information on request by the CSS.  <a href="structpch__dev__sense.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6f5264aac7bbd1815cca84123b8e121f" id="r_ga6f5264aac7bbd1815cca84123b8e121f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6f5264aac7bbd1815cca84123b8e121f">PCH_BSIZE_ZERO</a>&#160;&#160;&#160;((<a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a>){0})</td></tr>
<tr class="memdesc:ga6f5264aac7bbd1815cca84123b8e121f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A constant struct initialiser for the bsize encoding of zero.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac08413722a0d09445b2448fa6de7940c" id="r_gac08413722a0d09445b2448fa6de7940c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpch__bsizex.html">pch_bsizex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac08413722a0d09445b2448fa6de7940c">pch_bsizex_t</a></td></tr>
<tr class="memdesc:gac08413722a0d09445b2448fa6de7940c"><td class="mdescLeft">&#160;</td><td class="mdescRight">a <a class="el" href="structpch__bsize.html" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize</a> together with a flag intended to indicate whether the bsize encoded the original size exactly.  <br /></td></tr>
<tr class="memitem:gaaa25ce8bdee8a9e649cf1befedc1ef70" id="r_gaaa25ce8bdee8a9e649cf1befedc1ef70"><td class="memItemLeft" align="right" valign="top"><a id="gaaa25ce8bdee8a9e649cf1befedc1ef70" name="gaaa25ce8bdee8a9e649cf1befedc1ef70"></a>
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_ccw_flags_t</b></td></tr>
<tr class="memdesc:gaaa25ce8bdee8a9e649cf1befedc1ef70"><td class="mdescLeft">&#160;</td><td class="mdescRight">the flags of a CCW <br /></td></tr>
<tr class="memitem:ga0182de6d6c4649114059eb89a140ad6a" id="r_ga0182de6d6c4649114059eb89a140ad6a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpch__ccw.html">pch_ccw</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0182de6d6c4649114059eb89a140ad6a">pch_ccw_t</a></td></tr>
<tr class="memdesc:ga0182de6d6c4649114059eb89a140ad6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O Channel-Command Word (CCW)  <br /></td></tr>
<tr class="memitem:ga886598d19531aab53d3ff165b37dcde8" id="r_ga886598d19531aab53d3ff165b37dcde8"><td class="memItemLeft" align="right" valign="top"><a id="ga886598d19531aab53d3ff165b37dcde8" name="ga886598d19531aab53d3ff165b37dcde8"></a>
typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_sid_t</b></td></tr>
<tr class="memdesc:ga886598d19531aab53d3ff165b37dcde8"><td class="mdescLeft">&#160;</td><td class="mdescRight">a subchannel id (SID) between 0 and PCH_NUM_SCHIBS-1 (at most 65535) <br /></td></tr>
<tr class="memitem:ga0cf813e237e3a90e67a308ee9865a011" id="r_ga0cf813e237e3a90e67a308ee9865a011"><td class="memItemLeft" align="right" valign="top"><a id="ga0cf813e237e3a90e67a308ee9865a011" name="ga0cf813e237e3a90e67a308ee9865a011"></a>
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_cuaddr_t</b></td></tr>
<tr class="memdesc:ga0cf813e237e3a90e67a308ee9865a011"><td class="mdescLeft">&#160;</td><td class="mdescRight">a control unit address between 0 and PCH_NUM_CUS-1 (at most 255) that identifies a control unit from the CU side. <br /></td></tr>
<tr class="memitem:gab7ab0df86c352a560a2376290862a2ee" id="r_gab7ab0df86c352a560a2376290862a2ee"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a></td></tr>
<tr class="memdesc:gab7ab0df86c352a560a2376290862a2ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">a unit address that identifies a device on a given CU on the control unit side.  <br /></td></tr>
<tr class="memitem:gad50e88c5418c063d8bb3b66df7ef04ff" id="r_gad50e88c5418c063d8bb3b66df7ef04ff"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad50e88c5418c063d8bb3b66df7ef04ff">pch_chpid_t</a></td></tr>
<tr class="memdesc:gad50e88c5418c063d8bb3b66df7ef04ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">a channel path identifier between 0 and PCH_NUM_CHANNELS-1 (at most 255) that identifies a channel from the CSS side  <br /></td></tr>
<tr class="memitem:ga6705e933e26b2eacd30534ef98a638af" id="r_ga6705e933e26b2eacd30534ef98a638af"><td class="memItemLeft" align="right" valign="top">typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6705e933e26b2eacd30534ef98a638af">pch_dmaid_t</a></td></tr>
<tr class="memdesc:ga6705e933e26b2eacd30534ef98a638af"><td class="mdescLeft">&#160;</td><td class="mdescRight">a DMA id used by CSS or CU  <br /></td></tr>
<tr class="memitem:ga2051559b1a04ebbe80a064254c160209" id="r_ga2051559b1a04ebbe80a064254c160209"><td class="memItemLeft" align="right" valign="top">typedef int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2051559b1a04ebbe80a064254c160209">pch_dma_irq_index_t</a></td></tr>
<tr class="memdesc:ga2051559b1a04ebbe80a064254c160209"><td class="mdescLeft">&#160;</td><td class="mdescRight">a DMA IRQ index  <br /></td></tr>
<tr class="memitem:ga3b35c1d1ecbdbb04f997457dc8b28506" id="r_ga3b35c1d1ecbdbb04f997457dc8b28506"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpch__schib.html">pch_schib</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3b35c1d1ecbdbb04f997457dc8b28506">pch_schib_t</a></td></tr>
<tr class="memdesc:ga3b35c1d1ecbdbb04f997457dc8b28506"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="#ga3b35c1d1ecbdbb04f997457dc8b28506" title="pch_schib_t is the Subchannel Information Block (SCHIB)">pch_schib_t</a> is the Subchannel Information Block (SCHIB)  <br /></td></tr>
<tr class="memitem:ga7c762e6d91ddd3a8c187ba2bbca3baf2" id="r_ga7c762e6d91ddd3a8c187ba2bbca3baf2"><td class="memItemLeft" align="right" valign="top"><a id="ga7c762e6d91ddd3a8c187ba2bbca3baf2" name="ga7c762e6d91ddd3a8c187ba2bbca3baf2"></a>
typedef struct <a class="el" href="structpch__dev__sense.html">pch_dev_sense</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pch_dev_sense_t</b></td></tr>
<tr class="memdesc:ga7c762e6d91ddd3a8c187ba2bbca3baf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device sense structure by which a device can communicate additional error information on request by the CSS. <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacff0276eb0058214b4df91089f63bbec" id="r_gacff0276eb0058214b4df91089f63bbec"><td class="memItemLeft" align="right" valign="top"><a id="gacff0276eb0058214b4df91089f63bbec" name="gacff0276eb0058214b4df91089f63bbec"></a>
<a class="el" href="#gac08413722a0d09445b2448fa6de7940c">pch_bsizex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pch_bsize_encodex</b> (uint16_t n)</td></tr>
<tr class="memdesc:gacff0276eb0058214b4df91089f63bbec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode 16-bit count as an <a class="el" href="#gac08413722a0d09445b2448fa6de7940c" title="a pch_bsize together with a flag intended to indicate whether the bsize encoded the original size exa...">pch_bsizex_t</a>. <br /></td></tr>
<tr class="memitem:gacf5e0c4ad157e29629f5c939ba4db932" id="r_gacf5e0c4ad157e29629f5c939ba4db932"><td class="memItemLeft" align="right" valign="top"><a id="gacf5e0c4ad157e29629f5c939ba4db932" name="gacf5e0c4ad157e29629f5c939ba4db932"></a>
<a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pch_bsize_encode</b> (uint16_t n)</td></tr>
<tr class="memdesc:gacf5e0c4ad157e29629f5c939ba4db932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode 16-bit count as an 8-bit <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a>. <br /></td></tr>
<tr class="memitem:ga4a6d06ce17b263dbb1107cae61e57ac4" id="r_ga4a6d06ce17b263dbb1107cae61e57ac4"><td class="memItemLeft" align="right" valign="top"><a id="ga4a6d06ce17b263dbb1107cae61e57ac4" name="ga4a6d06ce17b263dbb1107cae61e57ac4"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_bsize_decode_raw</b> (uint8_t esize)</td></tr>
<tr class="memdesc:ga4a6d06ce17b263dbb1107cae61e57ac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode an 8-bit raw value of a bsize (not in its <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> type-wrapping) into a 16-bit value. <br /></td></tr>
<tr class="memitem:gab5c4a0bcb5248fd99b4105e9c39c3d01" id="r_gab5c4a0bcb5248fd99b4105e9c39c3d01"><td class="memItemLeft" align="right" valign="top"><a id="gab5c4a0bcb5248fd99b4105e9c39c3d01" name="gab5c4a0bcb5248fd99b4105e9c39c3d01"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_bsize_decode</b> (<a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a> bsize)</td></tr>
<tr class="memdesc:gab5c4a0bcb5248fd99b4105e9c39c3d01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode an 8-bit <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> value into a 16-bit value. <br /></td></tr>
<tr class="memitem:gabfeda89e1d205b03168ad67d2ecdf2e3" id="r_gabfeda89e1d205b03168ad67d2ecdf2e3"><td class="memItemLeft" align="right" valign="top"><a id="gabfeda89e1d205b03168ad67d2ecdf2e3" name="gabfeda89e1d205b03168ad67d2ecdf2e3"></a>
static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_bsize_unwrap</b> (<a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a> s)</td></tr>
<tr class="memdesc:gabfeda89e1d205b03168ad67d2ecdf2e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unwraps the uint8_t contained in a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a>. <br /></td></tr>
<tr class="memitem:ga0c1a3cc98a9810aed9f8f4ec53ee9775" id="r_ga0c1a3cc98a9810aed9f8f4ec53ee9775"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0c1a3cc98a9810aed9f8f4ec53ee9775">pch_bsize_wrap</a> (uint8_t esize)</td></tr>
<tr class="memdesc:ga0c1a3cc98a9810aed9f8f4ec53ee9775"><td class="mdescLeft">&#160;</td><td class="mdescRight">wraps a uint8_t into a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a>  <br /></td></tr>
<tr class="memitem:ga8db68fe81fa7a9ca4524539e03de193b" id="r_ga8db68fe81fa7a9ca4524539e03de193b"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8db68fe81fa7a9ca4524539e03de193b">pch_bsize_encode_raw_inline</a> (uint16_t n)</td></tr>
<tr class="memdesc:ga8db68fe81fa7a9ca4524539e03de193b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a bsize encoding, returning the encoded value unwrapped.  <br /></td></tr>
<tr class="memitem:ga773809493f9477a192d98a4e0c997ead" id="r_ga773809493f9477a192d98a4e0c997ead"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="#gac08413722a0d09445b2448fa6de7940c">pch_bsizex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga773809493f9477a192d98a4e0c997ead">pch_bsize_encodex_inline</a> (uint16_t n)</td></tr>
<tr class="memdesc:ga773809493f9477a192d98a4e0c997ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">encode a 16-bit value into its <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> along with an "exact"  <br /></td></tr>
<tr class="memitem:ga6f038d84f3c804f43a63af88fb08a78f" id="r_ga6f038d84f3c804f43a63af88fb08a78f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6f038d84f3c804f43a63af88fb08a78f">pch_bsize_encode_inline</a> (uint16_t n)</td></tr>
<tr class="memdesc:ga6f038d84f3c804f43a63af88fb08a78f"><td class="mdescLeft">&#160;</td><td class="mdescRight">encode a 16-bit value as a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a>  <br /></td></tr>
<tr class="memitem:gabae90e5e33cd1638bf21a9e515cbbea2" id="r_gabae90e5e33cd1638bf21a9e515cbbea2"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabae90e5e33cd1638bf21a9e515cbbea2">pch_bsize_decode_raw_inline</a> (uint8_t esize)</td></tr>
<tr class="memdesc:gabae90e5e33cd1638bf21a9e515cbbea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">decodes a raw bsize-encoded value  <br /></td></tr>
<tr class="memitem:ga19fb4da57ba17d4ebf270a47c17ddef2" id="r_ga19fb4da57ba17d4ebf270a47c17ddef2"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga19fb4da57ba17d4ebf270a47c17ddef2">pch_bsize_decode_inline</a> (<a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a> bsize)</td></tr>
<tr class="memdesc:ga19fb4da57ba17d4ebf270a47c17ddef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">decodes a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> as the uint16_t it represents  <br /></td></tr>
<tr class="memitem:ga989b89694de69eefb2c2fbb4a2a6d7b9" id="r_ga989b89694de69eefb2c2fbb4a2a6d7b9"><td class="memItemLeft" align="right" valign="top"><a id="ga989b89694de69eefb2c2fbb4a2a6d7b9" name="ga989b89694de69eefb2c2fbb4a2a6d7b9"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>pch_bsize_encode_raw</b> (uint16_t n)</td></tr>
<tr class="memdesc:ga989b89694de69eefb2c2fbb4a2a6d7b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode a 16-bit value into its raw 8-bit bsize encoding. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>The basic types used by picochan throughout both CSS and CU. </p>
<p>The subchannel-status word (SCSW)</p>
<p>The I/O interruption code.</p>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="ga6f5264aac7bbd1815cca84123b8e121f" name="ga6f5264aac7bbd1815cca84123b8e121f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f5264aac7bbd1815cca84123b8e121f">&#9670;&#160;</a></span>PCH_BSIZE_ZERO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCH_BSIZE_ZERO&#160;&#160;&#160;((<a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a>){0})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A constant struct initialiser for the bsize encoding of zero. </p>
<p>This is simply a constant structure initialiser (the structure itself, not a pointer to a structure) containing a single byte of zero which is the bsize encoding of zero. </p>

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="gac08413722a0d09445b2448fa6de7940c" name="gac08413722a0d09445b2448fa6de7940c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac08413722a0d09445b2448fa6de7940c">&#9670;&#160;</a></span>pch_bsizex_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpch__bsizex.html">pch_bsizex</a> <a class="el" href="#gac08413722a0d09445b2448fa6de7940c">pch_bsizex_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a <a class="el" href="structpch__bsize.html" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize</a> together with a flag intended to indicate whether the bsize encoded the original size exactly. </p>
<p>The flag is the low bit of the exact field. It is defined as a uint8_t rather than a bool to make its position clearer in any stored value of the structure. </p>

</div>
</div>
<a id="ga0182de6d6c4649114059eb89a140ad6a" name="ga0182de6d6c4649114059eb89a140ad6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0182de6d6c4649114059eb89a140ad6a">&#9670;&#160;</a></span>pch_ccw_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpch__ccw.html">pch_ccw</a> <a class="el" href="#ga0182de6d6c4649114059eb89a140ad6a">pch_ccw_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I/O Channel-Command Word (CCW) </p>
<p><a class="el" href="#ga0182de6d6c4649114059eb89a140ad6a" title="I/O Channel-Command Word (CCW)">pch_ccw_t</a> is an architected 8-byte control block that must be 4-byte aligned. When marshalling/unmarshalling a CCW, unlike the original architected Format-1 CCW which was implicitly big-endian, the count and addr fields here are treated as native-endian and so will be little-endian on both ARM and RISC-V (in Pico configurations) and would also be so on x86, for example.</p>
<pre class="fragment">CCW +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |      cmd      |     flags     |           count               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                        data address                           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre> 
</div>
</div>
<a id="gad50e88c5418c063d8bb3b66df7ef04ff" name="gad50e88c5418c063d8bb3b66df7ef04ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad50e88c5418c063d8bb3b66df7ef04ff">&#9670;&#160;</a></span>pch_chpid_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="#gad50e88c5418c063d8bb3b66df7ef04ff">pch_chpid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a channel path identifier between 0 and PCH_NUM_CHANNELS-1 (at most 255) that identifies a channel from the CSS side </p>
<p>Each channel connects to a single remote CU. </p>

</div>
</div>
<a id="ga2051559b1a04ebbe80a064254c160209" name="ga2051559b1a04ebbe80a064254c160209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2051559b1a04ebbe80a064254c160209">&#9670;&#160;</a></span>pch_dma_irq_index_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int8_t <a class="el" href="#ga2051559b1a04ebbe80a064254c160209">pch_dma_irq_index_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a DMA IRQ index </p>
<p>Must be either -1 (meaning no DMA IRQ index set) or between 0 and the number of DMA IRQs on the platform (e.g. 2 for RP2040 and 4 for RP2350). Pico SDK uses the uint type for DMA IRQ index arguments but Picochan uses the <a class="el" href="#ga2051559b1a04ebbe80a064254c160209" title="a DMA IRQ index">pch_dma_irq_index_t</a> type in its API and also for storing them so it can use a single byte instead of four. </p>

</div>
</div>
<a id="ga6705e933e26b2eacd30534ef98a638af" name="ga6705e933e26b2eacd30534ef98a638af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6705e933e26b2eacd30534ef98a638af">&#9670;&#160;</a></span>pch_dmaid_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="#ga6705e933e26b2eacd30534ef98a638af">pch_dmaid_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a DMA id used by CSS or CU </p>
<p>Must be between 0 and the number of DMA channels on the platform. Pico SDK uses the uint type for DMA channel id arguments but picochan uses <a class="el" href="#ga6705e933e26b2eacd30534ef98a638af" title="a DMA id used by CSS or CU">pch_dmaid_t</a> type in its API and also for storing them in a single byte instead of four. </p>

</div>
</div>
<a id="ga3b35c1d1ecbdbb04f997457dc8b28506" name="ga3b35c1d1ecbdbb04f997457dc8b28506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b35c1d1ecbdbb04f997457dc8b28506">&#9670;&#160;</a></span>pch_schib_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpch__schib.html">pch_schib</a> <a class="el" href="#ga3b35c1d1ecbdbb04f997457dc8b28506">pch_schib_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="#ga3b35c1d1ecbdbb04f997457dc8b28506" title="pch_schib_t is the Subchannel Information Block (SCHIB)">pch_schib_t</a> is the Subchannel Information Block (SCHIB) </p>
<p>The SCHIB is formed from the Path Management Control Word (PMCW), Subchannel Status Word (SCSW) and Model Dependent Area (MDA). Of these, the PMCW and SCSW are architected formats and the MDA format is an internal implementation detail of the CSS. </p><pre class="fragment">PMCW    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |                            Intparm                            |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |                     |T|E| ISC |      CUAddr   | UnitAddr      |
SCSW    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |               | CC|P|I|U|Z| |N|W|  FC |     AC      |   SC    |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |                         CCW Address                           |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        | DEVS/ccwflags |     SCHS      |     Residual Count            |
MDA     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |                        data address                           |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |        reqcount/advcount      | prevua/ccwcmd |    nextua     |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |           prevsid             |           nextsid             |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><p> DEVS only needs to be valid when SC.StatusPending is set. Otherwise, we use the field to hold the current ccwflags. </p>

</div>
</div>
<a id="gab7ab0df86c352a560a2376290862a2ee" name="gab7ab0df86c352a560a2376290862a2ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7ab0df86c352a560a2376290862a2ee">&#9670;&#160;</a></span>pch_unit_addr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint8_t <a class="el" href="#gab7ab0df86c352a560a2376290862a2ee">pch_unit_addr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a unit address that identifies a device on a given CU on the control unit side. </p>
<p>Must be between 0 and cu-&gt;num_devibs-1 (which is at most 255). </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga19fb4da57ba17d4ebf270a47c17ddef2" name="ga19fb4da57ba17d4ebf270a47c17ddef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19fb4da57ba17d4ebf270a47c17ddef2">&#9670;&#160;</a></span>pch_bsize_decode_inline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t pch_bsize_decode_inline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a></td>          <td class="paramname"><span class="paramname"><em>bsize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>decodes a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> as the uint16_t it represents </p>
<p>This function is declared as "static inline" to be used in places where it is appropriate to have the code inlined. A corresponding function pch_bsize_encodex is available as an ordinary function. </p>

</div>
</div>
<a id="gabae90e5e33cd1638bf21a9e515cbbea2" name="gabae90e5e33cd1638bf21a9e515cbbea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabae90e5e33cd1638bf21a9e515cbbea2">&#9670;&#160;</a></span>pch_bsize_decode_raw_inline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t pch_bsize_decode_raw_inline </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>esize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>decodes a raw bsize-encoded value </p>
<p>This is a shortcut for pch_bsize_decode(pch_bsize_wrap(esize) which can be used when the benefits of the type-wrapping of the encoding are not needed. </p>

</div>
</div>
<a id="ga6f038d84f3c804f43a63af88fb08a78f" name="ga6f038d84f3c804f43a63af88fb08a78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f038d84f3c804f43a63af88fb08a78f">&#9670;&#160;</a></span>pch_bsize_encode_inline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a> pch_bsize_encode_inline </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>encode a 16-bit value as a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> </p>
<p>This does the same as pch_bsize_encodex_inline but does not return the exactness. </p>

</div>
</div>
<a id="ga8db68fe81fa7a9ca4524539e03de193b" name="ga8db68fe81fa7a9ca4524539e03de193b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8db68fe81fa7a9ca4524539e03de193b">&#9670;&#160;</a></span>pch_bsize_encode_raw_inline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t pch_bsize_encode_raw_inline </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a bsize encoding, returning the encoded value unwrapped. </p>
<p>This is a shortcut for pch_bsize_unwrap(pch_bsize_encode(size)) which can be used when the benefits of the type-wrapping of the encoding are not needed. </p>

</div>
</div>
<a id="ga773809493f9477a192d98a4e0c997ead" name="ga773809493f9477a192d98a4e0c997ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga773809493f9477a192d98a4e0c997ead">&#9670;&#160;</a></span>pch_bsize_encodex_inline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#gac08413722a0d09445b2448fa6de7940c">pch_bsizex_t</a> pch_bsize_encodex_inline </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>encode a 16-bit value into its <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> along with an "exact" </p>
<p>This encodes n into its <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> along with a flag bit that indicates whether decoding the result will produce exactly n.</p>
<p>This function is declared as "static inline" to be used in places where it is appropriate to have the code inlined. A corresponding function pch_bsize_encodex is available as an ordinary function. </p>

</div>
</div>
<a id="ga0c1a3cc98a9810aed9f8f4ec53ee9775" name="ga0c1a3cc98a9810aed9f8f4ec53ee9775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c1a3cc98a9810aed9f8f4ec53ee9775">&#9670;&#160;</a></span>pch_bsize_wrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284">pch_bsize_t</a> pch_bsize_wrap </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>esize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>wraps a uint8_t into a <a class="el" href="bsize_8h.html#a2d005a8abbc18674ca5886b556b7d284" title="an 8-bit structure whose value encodes a 16-bit value for use as a count of bytes in a typical picoch...">pch_bsize_t</a> </p>
<p>This is typically used to produce a clearly-typed "bsize encoded" value after receiving an unwrapped bsize from a remote protocol </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
