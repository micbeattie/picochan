<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Picochan: pch_trc_bufferset Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Picochan<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Picochan documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('structpch__trc__bufferset.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">pch_trc_bufferset Struct Reference<div class="ingroups"><a class="el" href="group__internal__trc.html">internal_trc</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>set of buffers and metadata for a subsystem to use tracing  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="trc_8h_source.html">trc.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a523de47d166133881dc671bc5ae3b733" id="r_a523de47d166133881dc671bc5ae3b733"><td class="memItemLeft" align="right" valign="top"><a id="a523de47d166133881dc671bc5ae3b733" name="a523de47d166133881dc671bc5ae3b733"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>current_buffer_num</b></td></tr>
<tr class="memdesc:a523de47d166133881dc671bc5ae3b733"><td class="mdescLeft">&#160;</td><td class="mdescRight">the index in buffers of the current buffer being appended to <br /></td></tr>
<tr class="memitem:aa773e0c231a1b3b7f4c352fe61e47db8" id="r_aa773e0c231a1b3b7f4c352fe61e47db8"><td class="memItemLeft" align="right" valign="top"><a id="aa773e0c231a1b3b7f4c352fe61e47db8" name="aa773e0c231a1b3b7f4c352fe61e47db8"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>current_buffer_pos</b></td></tr>
<tr class="memdesc:aa773e0c231a1b3b7f4c352fe61e47db8"><td class="mdescLeft">&#160;</td><td class="mdescRight">the byte offset in the current buffer where the next trace record will be written. <br /></td></tr>
<tr class="memitem:ab0aa31c8e2b9475cebf572f1f10db0a2" id="r_ab0aa31c8e2b9475cebf572f1f10db0a2"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0aa31c8e2b9475cebf572f1f10db0a2">irqnum</a></td></tr>
<tr class="memdesc:ab0aa31c8e2b9475cebf572f1f10db0a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">the irq_num_t of an IRQ or -1  <br /></td></tr>
<tr class="memitem:aa3370a645c32ab31b30b51038c8d68a7" id="r_aa3370a645c32ab31b30b51038c8d68a7"><td class="memItemLeft" align="right" valign="top"><a id="aa3370a645c32ab31b30b51038c8d68a7" name="aa3370a645c32ab31b30b51038c8d68a7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>enable</b></td></tr>
<tr class="memdesc:aa3370a645c32ab31b30b51038c8d68a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">the bufferset enablement flag for tracing. When false, no trace records will be written and all of the buffer arrays, pointers and indexes above are ignored. <br /></td></tr>
<tr class="memitem:ad6f5c3cd73c7d1c3d431c064da05e8bd" id="r_ad6f5c3cd73c7d1c3d431c064da05e8bd"><td class="memItemLeft" align="right" valign="top"><a id="ad6f5c3cd73c7d1c3d431c064da05e8bd" name="ad6f5c3cd73c7d1c3d431c064da05e8bd"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>magic</b></td></tr>
<tr class="memdesc:ad6f5c3cd73c7d1c3d431c064da05e8bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">subsystem-specific magic number for identifying dumped trace buffers <br /></td></tr>
<tr class="memitem:aa55c03a2d1fe463d6bb2c653f07198c2" id="r_aa55c03a2d1fe463d6bb2c653f07198c2"><td class="memItemLeft" align="right" valign="top"><a id="aa55c03a2d1fe463d6bb2c653f07198c2" name="aa55c03a2d1fe463d6bb2c653f07198c2"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_size</b></td></tr>
<tr class="memitem:a8991ab354153df8407436e443882a4d0" id="r_a8991ab354153df8407436e443882a4d0"><td class="memItemLeft" align="right" valign="top"><a id="a8991ab354153df8407436e443882a4d0" name="a8991ab354153df8407436e443882a4d0"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>num_buffers</b></td></tr>
<tr class="memitem:a4e1e1907a3f1990cfe87c33709a3037c" id="r_a4e1e1907a3f1990cfe87c33709a3037c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__picochan__css.html#ga0801241357d0067f213b671aeb5f964f">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e1e1907a3f1990cfe87c33709a3037c">buffers</a> [1]</td></tr>
<tr class="memdesc:a4e1e1907a3f1990cfe87c33709a3037c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the array of trace buffers.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>set of buffers and metadata for a subsystem to use tracing </p>
<p>This struct holds an array of PCH_TRC_NUM_BUFFERS buffers, each which must be of size PCH_TRC_BUFFER_SIZE.</p>
<p>When compile-time trace support is enabled (PCH_CONFIG_ENABLE_TRACE is defined to be non-zero), PCH_TRC_NUM_BUFFERS is the number of trace buffers in a bufferset. These buffers form a ring - once the current buffer is full, the current buffer moves onto the next in the ring and, optionally, an interrupt is generated so that the previous buffer can be archived elsewhere before the ring wraps.</p>
<p>When compile-time trace support is not enabled, PCH_TRC_NUM_BUFFERS is defined as 0 so this struct can be instantiated but not used. </p>
</div><a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Field Documentation</h2>
<a id="a4e1e1907a3f1990cfe87c33709a3037c" name="a4e1e1907a3f1990cfe87c33709a3037c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e1e1907a3f1990cfe87c33709a3037c">&#9670;&#160;</a></span>buffers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__picochan__css.html#ga0801241357d0067f213b671aeb5f964f">void</a>* pch_trc_bufferset::buffers[1]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the array of trace buffers. </p>
<p>It is treated as a single ring buffer of trace records. Each trace record is of the form of an 8-byte header (pch_trc_header_t) followed by a number of bytes of associated trace data. The total size of header plus its following associated data is in the size field of the header. </p>

</div>
</div>
<a id="ab0aa31c8e2b9475cebf572f1f10db0a2" name="ab0aa31c8e2b9475cebf572f1f10db0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0aa31c8e2b9475cebf572f1f10db0a2">&#9670;&#160;</a></span>irqnum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t pch_trc_bufferset::irqnum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the irq_num_t of an IRQ or -1 </p>
<p>When not -1, raised when pch_trc_switch_to_next_buffer is called either by explicit invocation or when writing a trace record skips to the next trace buffer because the current buffer is full. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>base/include/picochan/<a class="el" href="trc_8h_source.html">trc.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="structpch__trc__bufferset.html">pch_trc_bufferset</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
